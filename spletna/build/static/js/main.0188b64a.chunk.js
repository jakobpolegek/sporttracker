(this.webpackJsonpsporttracker=this.webpackJsonpsporttracker||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=(a(66),a(6)),s=(a(67),a(68),a(38)),i=a.n(s),u=i.a.initializeApp({apiKey:"AIzaSyBrNS9Y9zKUH3CESiD-Ab5Qw-0O8_Gy47g",authDomain:"sporttracker-fd60b.firebaseapp.com",projectId:"sporttracker-fd60b",storageBucket:"sporttracker-fd60b.appspot.com",messagingSenderId:"978482245151",appId:"1:978482245151:web:840c67794c261b6d346f2a"}).firestore(),p=i.a.auth(),m=(i.a.storage(),a(119)),E=a(129),d=a(120),h=a(121),f=a(122),b=Object(n.forwardRef)((function(e,t){e.user;var a=e.username,c=e.postId,l=(e.caption,e.height),o=e.weight,s=e.calories_burned,i=e.avg_heartrate,p=e.time,b=e.distance,g=e.pot;Object(n.useEffect)((function(){var e;return c&&(e=u.collection("posts").doc(c).onSnapshot((function(e){}))),function(){e()}}),[c]);var v=Array(),_={color:"blue"};return r.a.createElement("div",{className:"post",ref:t},r.a.createElement("div",{className:"post__header"},r.a.createElement("h3",null,a)),r.a.createElement("h4",{className:"post__text"},r.a.createElement("span",{className:"post__caption"},r.a.createElement("b",null,"HEIGHT: "),l)," cm.",r.a.createElement("br",null),r.a.createElement("span",{className:"post__caption"},r.a.createElement("b",null,"WEIGHT: "),o)," kg.",r.a.createElement("br",null),r.a.createElement("span",{className:"post__caption"},r.a.createElement("b",null,"CALORIES BURNED: "),s),r.a.createElement("br",null),r.a.createElement("span",{className:"post__caption"},r.a.createElement("b",null,"AVERAGE HEARTRATE: "),i),r.a.createElement("br",null),r.a.createElement("div",{className:"post__header"}),r.a.createElement("br",null),r.a.createElement("b",null,"DURATION: "),p," seconds.",r.a.createElement("br",null),r.a.createElement("b",null,"DISTANCE: "),b," meters.",r.a.createElement("div",null,r.a.createElement("b",null,"LOCATION: "),r.a.createElement(m.a,{center:[g[0].lat,g[0].lon],zoom:9,scrollWheelZoom:!1},r.a.createElement(E.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),g.slice(0,1).map((function(e){return"".concat(e.lat),"".concat(e.lon),v.push([e.lat,e.lon]),r.a.createElement(d.a,{position:[e.lat,e.lon]},r.a.createElement(h.a,{pathOptions:_,positions:v}),r.a.createElement(f.a,null,"Starting point."))})),",",g.slice(1).map((function(e){return"".concat(e.lat),"".concat(e.lon),v.push([e.lat,e.lon]),r.a.createElement(d.a,{position:[e.lat,e.lon]},r.a.createElement(h.a,{pathOptions:_,positions:v}),r.a.createElement(f.a,null,"You were here: ",[e.lat," ",e.lon]))}))))))})),g=(a(79),a(128)),v=a(127),_=a(53),O=(a.n(_).a.create({baseURL:"http://localhost:8080"}),a(125)),N=a(126),j=a(58);function y(){return{height:"300px",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var S=Object(O.a)((function(e){return{paper:{position:"absolute",width:300,height:150}}}));var A=function(){var e=S(),t=Object(n.useState)(y),a=Object(o.a)(t,1)[0],c=Object(n.useState)([]),l=Object(o.a)(c,2),s=l[0],i=l[1],m=Object(n.useState)(""),E=Object(o.a)(m,2),d=E[0],h=E[1],f=Object(n.useState)(""),_=Object(o.a)(f,2),O=_[0],A=_[1],C=Object(n.useState)(""),k=Object(o.a)(C,2),w=k[0],I=k[1],R=Object(n.useState)(null),x=Object(o.a)(R,2),T=x[0],P=x[1],D=Object(n.useState)(!1),H=Object(o.a)(D,2),G=H[0],L=H[1],U=Object(n.useState)(!1),W=Object(o.a)(U,2),B=W[0],M=W[1];return Object(n.useEffect)((function(){var e=p.onAuthStateChanged((function(e){if(e){if(console.log(e),P(e),!e.displayName)return e.updateProfile({displayName:d})}else P(null)}));return function(){e()}}),[T,d]),Object(n.useEffect)((function(){u.collection("posts").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),r.a.createElement("div",{className:"app"},r.a.createElement(N.a,{open:G,onClose:function(){return L(!1)}},r.a.createElement("div",{style:a,className:e.paper},r.a.createElement("form",{className:"app__login"},r.a.createElement(g.a,{placeholder:"E-Po\u0161ta",type:"text",value:O,onChange:function(e){return A(e.target.value)}}),r.a.createElement(g.a,{placeholder:"Geslo",type:"password",value:w,onChange:function(e){return I(e.target.value)}}),r.a.createElement(v.a,{onClick:function(e){e.preventDefault(),p.signInWithEmailAndPassword(O,w).catch((function(e){return alert(e.message)})),L(!1)}},"Prijavi me!")))),r.a.createElement(N.a,{open:B,onClose:function(){return M(!1)}},r.a.createElement("div",{style:a,className:e.paper},r.a.createElement("form",{className:"app__login"},r.a.createElement(g.a,{type:"text",placeholder:"Uporabni\u0161ko ime",value:d,onChange:function(e){return h(e.target.value)}}),r.a.createElement(g.a,{placeholder:"E-Po\u0161ta",type:"text",value:O,onChange:function(e){return A(e.target.value)}}),r.a.createElement(g.a,{placeholder:"Geslo",type:"password",value:w,onChange:function(e){return I(e.target.value)}}),r.a.createElement(v.a,{onClick:function(e){e.preventDefault(),p.createUserWithEmailAndPassword(O,w).catch((function(e){return alert(e.message)})),M(!1)}},"Registriraj me!")))),r.a.createElement("div",{className:"app__header"},r.a.createElement("div",{className:"app__logo"},r.a.createElement("h3",{style:{color:"#c1cbd7",margin:"40px"}},"SportTracker"),(null===T||void 0===T?void 0:T.displayName)?r.a.createElement("div",{className:"app_loginHome"},r.a.createElement(v.a,{onClick:function(){return p.signOut()},style:{color:"#c1cbd7",marginTop:"-100px",marginLeft:"140px"}},"ODJAVA")):r.a.createElement("form",{className:"app__loginHome"},r.a.createElement(v.a,{onClick:function(){return L(!0)},style:{color:"#c1cbd7"}},"PRIJAVA"),r.a.createElement(v.a,{onClick:function(){return M(!0)},style:{color:"#c1cbd7"}},"REGISTRACIJA")))),r.a.createElement("div",{className:"app__posts"},r.a.createElement("div",{className:"app__postsLeft"},r.a.createElement(j.a,null,s.map((function(e){var t=e.id,a=e.post;return r.a.createElement(b,{user:T,key:t,postId:t,username:a.username,caption:a.caption,weight:a.weight,height:a.height,calories_burned:a.calories_burned,avg_heartrate:a.avg_heartrate,time:a.time,distance:a.distance,pot:a.pot})}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",integrity:"sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==",crossorigin:""}),r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,a){e.exports=a(101)},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},79:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.0188b64a.chunk.js.map