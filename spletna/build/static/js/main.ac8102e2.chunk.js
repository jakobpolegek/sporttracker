(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{54:function(e,t,a){e.exports=a(94)},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},72:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a.n(r),l=(a(59),a(12)),s=(a(60),a(61),a(25)),i=a.n(s),u=i.a.initializeApp({apiKey:"AIzaSyBrNS9Y9zKUH3CESiD-Ab5Qw-0O8_Gy47g",authDomain:"sporttracker-fd60b.firebaseapp.com",projectId:"sporttracker-fd60b",storageBucket:"sporttracker-fd60b.appspot.com",messagingSenderId:"978482245151",appId:"1:978482245151:web:840c67794c261b6d346f2a"}).firestore(),m=i.a.auth(),p=(i.a.storage(),Object(n.forwardRef)((function(e,t){e.user;var a=e.username,r=e.postId,o=(e.caption,e.height),l=e.weight,s=e.calories_burned,i=e.avg_heartrate,m=e.time,p=e.distance,d=e.pot;return Object(n.useEffect)((function(){var e;return r&&(e=u.collection("posts").doc(r).onSnapshot((function(e){}))),function(){e()}}),[r]),c.a.createElement("div",{className:"post",ref:t},c.a.createElement("div",{className:"post__header"},c.a.createElement("h3",null,a)),c.a.createElement("h4",{className:"post__text"},c.a.createElement("span",{className:"post__caption"},c.a.createElement("b",null,"HEIGHT: "),o)," cm.",c.a.createElement("br",null),c.a.createElement("span",{className:"post__caption"},c.a.createElement("b",null,"WEIGHT: "),l)," kg.",c.a.createElement("br",null),c.a.createElement("span",{className:"post__caption"},c.a.createElement("b",null,"CALORIES BURNED: "),s),c.a.createElement("br",null),c.a.createElement("span",{className:"post__caption"},c.a.createElement("b",null,"AVERAGE HEARTRATE: "),i),c.a.createElement("br",null),c.a.createElement("div",{className:"post__header"}),c.a.createElement("br",null),c.a.createElement("b",null,"DURATION: "),m," seconds.",c.a.createElement("br",null),c.a.createElement("b",null,"DISTANCE: "),p," meters.",c.a.createElement("br",null),c.a.createElement("b",null,"PATH:",d," ")))}))),d=(a(72),a(116)),E=a(115),f=a(45),h=(a.n(f).a.create({baseURL:"http://localhost:8080"}),a(113)),b=a(114),g=a(50);function v(){return{height:"300px",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var _=Object(h.a)((function(e){return{paper:{position:"absolute",width:300,height:150}}}));var O=function(){var e=_(),t=Object(n.useState)(),a=Object(l.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(v),i=Object(l.a)(s,1)[0],f=Object(n.useState)([]),h=Object(l.a)(f,2),O=h[0],j=h[1],N=Object(n.useState)(""),y=Object(l.a)(N,2),A=y[0],S=y[1],w=Object(n.useState)(""),k=Object(l.a)(w,2),C=k[0],I=k[1],R=Object(n.useState)(""),T=Object(l.a)(R,2),x=T[0],D=T[1],H=Object(n.useState)(null),P=Object(l.a)(H,2),G=P[0],U=P[1],B=Object(n.useState)(!1),J=Object(l.a)(B,2),W=J[0],L=J[1],z=Object(n.useState)(!1),V=Object(l.a)(z,2),K=V[0],M=V[1];return Object(n.useEffect)((function(){var e=m.onAuthStateChanged((function(e){if(e){if(console.log(e),U(e),!e.displayName)return e.updateProfile({displayName:A})}else U(null)}));return function(){e()}}),[G,A]),Object(n.useEffect)((function(){u.collection("posts").where("pot","not-in",["null"]).get().then((function(e){e.docs.forEach((function(e){o(Array.from(e.data().pot))}))})),u.collection("posts").onSnapshot((function(e){return j(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),c.a.createElement("div",{className:"app"},c.a.createElement(b.a,{open:W,onClose:function(){return L(!1)}},c.a.createElement("div",{style:i,className:e.paper},c.a.createElement("form",{className:"app__login"},c.a.createElement(d.a,{placeholder:"E-Po\u0161ta",type:"text",value:C,onChange:function(e){return I(e.target.value)}}),c.a.createElement(d.a,{placeholder:"Geslo",type:"password",value:x,onChange:function(e){return D(e.target.value)}}),c.a.createElement(E.a,{onClick:function(e){e.preventDefault(),m.signInWithEmailAndPassword(C,x).catch((function(e){return alert(e.message)})),L(!1)}},"Prijavi me!")))),c.a.createElement(b.a,{open:K,onClose:function(){return M(!1)}},c.a.createElement("div",{style:i,className:e.paper},c.a.createElement("form",{className:"app__login"},c.a.createElement(d.a,{type:"text",placeholder:"Uporabni\u0161ko ime",value:A,onChange:function(e){return S(e.target.value)}}),c.a.createElement(d.a,{placeholder:"E-Po\u0161ta",type:"text",value:C,onChange:function(e){return I(e.target.value)}}),c.a.createElement(d.a,{placeholder:"Geslo",type:"password",value:x,onChange:function(e){return D(e.target.value)}}),c.a.createElement(E.a,{onClick:function(e){e.preventDefault(),m.createUserWithEmailAndPassword(C,x).catch((function(e){return alert(e.message)})),M(!1)}},"Registriraj me!")))),c.a.createElement("div",{className:"app__header"},c.a.createElement("div",{className:"app__logo"},c.a.createElement("h3",{style:{color:"#c1cbd7",margin:"40px"}},"SportTracker"),(null===G||void 0===G?void 0:G.displayName)?c.a.createElement("div",{className:"app_loginHome"},c.a.createElement(E.a,{onClick:function(){return m.signOut()},style:{color:"#c1cbd7",marginTop:"-100px",marginLeft:"140px"}},"ODJAVA")):c.a.createElement("form",{className:"app__loginHome"},c.a.createElement(E.a,{onClick:function(){return L(!0)},style:{color:"#c1cbd7"}},"PRIJAVA"),c.a.createElement(E.a,{onClick:function(){return M(!0)},style:{color:"#c1cbd7"}},"REGISTRACIJA")))),c.a.createElement("div",{className:"app__posts"},c.a.createElement("div",{className:"app__postsLeft"},c.a.createElement(g.a,null,O.map((function(e){var t=e.id,a=e.post;return c.a.createElement(p,{user:G,key:t,postId:t,username:a.username,caption:a.caption,weight:a.weight,height:a.height,calories_burned:a.calories_burned,avg_heartrate:a.avg_heartrate,time:a.time,distance:a.distance,pot:r})}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.ac8102e2.chunk.js.map